<div class="container" id="content">

    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#" role="tab" aria-controls="home" aria-expanded="true">CSE</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#" role="tab" aria-controls="profile">ECE</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#" role="tab" aria-controls="profile">CSE&ECE</a>
        </li>

    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                {{> repeater this}}
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                {{> repeater this}}
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            {{> repeater this}}
        </div>
    </div>
</div>

<script>

    var count = 6 ;
    document.getElementById('loadmore').addEventListener('click', performGetRequest);
    function performGetRequest(e) {

          count += 6 ;

          fetch('http://localhost:3000/books?count='+count)
                .then(function(response) {
                   return response.json();
                })
                  .then(function(data) {

                      if(data.docs) {

                          for (var i = 0; i <= 5; i++) {
                              var card = document.createElement('div');

                              var name = data.docs[i].name;
                              var description = data.docs[i].description;


                              card += "<div class='col-md-4 bookCard'>";


                              card += "<h3 class='text-center'>";

                              card += name;
                              card += "</h3>";

                              card += "<div class='card card-01'>";

                              card += " <div class='card-block'>";

                              card += "<span class='badge-box'><i class='fa fa-check'></i></span>";
                              card += "<p class='card-text'>";
                              card += description;
                              card += "</p>";
                              card += "</div></div></div>";

                              $("#row").append(card);
                          }
                      }
                      else{
                          $("#danger").show();
                      }
                  })
                .catch(function (error) {
                   console.log(error);
                });



        e.preventDefault();

    }
    (function($) {

        'use strict';

        $(document).on('show.bs.tab', '.nav-tabs-responsive [data-toggle="tab"]', function(e) {
            var $target = $(e.target);
            var $tabs = $target.closest('.nav-tabs-responsive');
            var $current = $target.closest('li');
            var $parent = $current.closest('li.dropdown');
            $current = $parent.length > 0 ? $parent : $current;
            var $next = $current.next();
            var $prev = $current.prev();
            var updateDropdownMenu = function($el, position){
                $el
                        .find('.dropdown-menu')
                        .removeClass('pull-xs-left pull-xs-center pull-xs-right')
                        .addClass( 'pull-xs-' + position );
            };

            $tabs.find('>li').removeClass('next prev');
            $prev.addClass('prev');
            $next.addClass('next');

            updateDropdownMenu( $prev, 'left' );
            updateDropdownMenu( $current, 'center' );
            updateDropdownMenu( $next, 'right' );
        });

    })(jQuery);
</script>

